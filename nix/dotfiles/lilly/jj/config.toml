"$schema" = "https://jj-vcs.github.io/jj/latest/config-schema.json"

[user]
name = "lilly"
email = "li@lly.sh"

[aliases]
init = [ "git", "init", "--colocate" ]
clone = [ "git", "clone", "--colocate" ]
tug = ["bookmark", "move", "--from", "heads(::@- & bookmarks())", "--to", "@-"]
rebase-all = ["rebase", "-s", "all:roots(trunk()..mutable())", "-d", "trunk()"]

[signing]
behavior = "own"
backend = "ssh"
key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIPohjBYcg4GR9hKH6vdT5V2OA+rpTBkDOJZzipnotpR+"

[ui]
default-command = "log"

[colors]
"diff removed token" = { fg = "bright red", bg = "#400000", underline = false }
"diff added token" = { fg = "bright green", bg = "#003000", underline = false }

[revsets]
# https://jj-vcs.github.io/jj/latest/config/#default-revisions
log = "present(@) | ancestors(immutable_heads().., 6) | present(trunk())"

[git]
auto-local-bookmark = true

[templates]
draft_commit_description = '''
concat(
  coalesce(description, default_commit_description, "\n"),
  surround(
    "\nJJ: This commit contains the following changes:\n", "",
    indent("JJ:     ", diff.stat(72)),
  ),
  "\nJJ: ignore-rest\n",
  diff.git(),
)
'''

[[--scope]]
--when.repositories = [ "~/Projects/b1" ]

[--scope.user]
name = "Sell, Lilly"
email = "sell@b1-systems.de"
